<!doctype html>
<html>
<head>

<!-- META -->
<meta charset="utf-8">
<title>Vitali Chat</title>
<meta name="robots" content="noindex,nofollow">
<meta name="description" id="description" property="description" content="Vitali Chat">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

<style>
body,html{ font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; scroll-behavior: smooth; margin:0; padding:0; font-size:16px; font-weight:500;   }
#code, #question, #reponse {display:block; width:80%; margin:10px;}
button {margin:10px;}
h2 {margin:10px;}
</style>

</head>
<body>

<h2>Как я могу помочь вам сегодня?</h2>

<input type="text" id="code" placeholder="Код">
<input type="text" id="question" placeholder="Вопрос">
<button onclick="askChatGPT()">Отправить</button>
<div id="reponse"></div>

<script>
  async function askChatGPT() {
      const question = document.getElementById('question').value;
      const code = document.getElementById('code').value;
      const reponse = document.getElementById('reponse');
      reponse.innerHTML = 'Загрузка...';  // Message de chargement

      try {
          const response = await fetch('https://api.openai.com/v1/chat/completions', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
                  'Authorization': 'Bearer ' + code,
              },
              body: JSON.stringify({
                  model: "gpt-4",  // Spécifiez le modèle approprié ici
                  messages: [{role: "user", content: question}]
              })
          });
          const data = await response.json();
          // console.log(data.error.message);
          reponse.innerHTML = data.error.message;
          reponse.innerHTML += '<br><br>' + data.choices[0].message.content;
      } catch (error) {
        reponse.innerHTML += '<br><br>Ошибка';
        console.error('Erreur lors de la demande:', error);
      }
  }
</script>




</body>
</html>